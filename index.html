<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>coral.ink | Creativity let lose</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Outfit:wght@200;400;600&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --coral: #ff7f50;
            --coral-glow: rgba(255, 127, 80, 0.4);
            --bg-dark: #0b0b0b;
            --text-main: #ffffff;
            --text-muted: #888888;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: var(--bg-dark);
            color: var(--text-main);
            font-family: 'Inter', sans-serif;
            overflow: hidden;
            height: 100vh;
            width: 100vw;
        }

        /* --- UI Overlay --- */
        #ui-container {
            position: absolute;
            top: 0;
            left: 20;
            width: 50%;
            height: 100%;
            pointer-events: none; /* Ensure clicks pass through to canvas */
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            padding: 2rem;
            z-index: 10;
        }

        /* Logo */
        .logo {
            font-family: 'Outfit', sans-serif;
            font-weight: 600;
            font-size: 1.5rem;
            letter-spacing: 0.1em;
            text-transform: lowercase;
            color: var(--text-main);
            align-self: flex-start;
            pointer-events: auto;
        }
        .logo span { color: var(--coral); }

        /* Main Content - Moved higher up to clear center */
        .hero-content {
            text-align: center;
            max-width: 600px;
            pointer-events: auto;
            margin-top: 5vh; 
        }

        h1 {
            font-family: 'Outfit', sans-serif;
            font-size: 4rem;
            font-weight: 200; /* ultra-modern thin look */
            line-height: 1.1;
            margin-bottom: 1.5rem;
            letter-spacing: -0.02em;
            opacity: 0;
            animation: fadeIn 1.5s ease forwards 0.5s;
        }

        p.subtitle {
            font-size: 1.1rem;
            color: var(--text-muted);
            margin-bottom: 2.5rem;
            line-height: 1.6;
            opacity: 0;
            animation: fadeIn 1.5s ease forwards 0.8s;
            text-align:left;
            margin-left: 30px;
        }

        /* Input Group */
        .input-group {
            display: flex;
            gap: 10px;
            background: rgba(255, 255, 255, 0.05);
            padding: 8px;
            border-radius: 50px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            opacity: 0;
            animation: fadeInUp 1s ease forwards 1s;
        }

        .input-group:focus-within {
            border-color: var(--coral);
            box-shadow: 0 0 20px var(--coral-glow);
        }

        input[type="email"] {
            background: transparent;
            border: none;
            color: white;
            padding: 12px 20px;
            font-size: 1rem;
            outline: none;
            flex-grow: 1;
            font-family: 'Inter', sans-serif;
        }

        button {
            background-color: var(--coral);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 40px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s ease, background 0.3s;
            font-family: 'Inter', sans-serif;
        }

        button:hover {
            transform: scale(1.05);
            background-color: #ff6b3d;
        }

        /* Footer - Moved lower */
        footer {
            font-size: 0.8rem;
            color: #444;
            opacity: 0;
            margin-bottom: 1rem;
            animation: fadeIn 1.5s ease forwards 1.5s;
        }

        /* --- 3D Canvas --- */
        #canvas-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
             /* Important: allows pointer events on the canvas for raycasting */
            pointer-events: auto;
        }

        @keyframes fadeIn { to { opacity: 1; } }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 768px) {
            h1 { font-size: 2.8rem; }
            .hero-content { margin-top: 2vh;}
            .input-group { flex-direction: column; background: transparent; border: none; gap: 15px; }
            input[type="email"] { background: rgba(255,255,255,0.05); border-radius: 10px; text-align: center; border: 1px solid rgba(255,255,255,0.1); }
            button { width: 100%; }
        }
    </style>
</head>
<body>

    <div id="canvas-container"></div>

    <div id="ui-container">
        <div class="logo">coral<span>.ink</span></div>
        <div class="hero-content">
            <h1>WELCOME TO HERE.</h1>
            <p class="subtitle">Welcome to where you are.</p>
          <p class="subtitle">Feel free to stay as long as you like and enjoy the human condition.</p>
        </div>
        <footer>&copy; 2025 Coral Ink. All rights reserved.</footer>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <script>
        // --- 3D SCENE SETUP ---
        const container = document.getElementById('canvas-container');
        const scene = new THREE.Scene();
        scene.fog = new THREE.FogExp2(0x0b0b0b, 0.035);

        const camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 100);
        // Adjusted camera angle to look slightly more down into the pot
        camera.position.set(0, 4, 8);
        camera.lookAt(0, 0.5, 0);

        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(window.devicePixelRatio);
        renderer.shadowMap.enabled = true;
        container.appendChild(renderer.domElement);

        // --- INTERACTION STATE ---
        const raycaster = new THREE.Raycaster();
        const mouse = new THREE.Vector2();
        let isHovering = false;
        let isMouseDown = false;
        // Target Y position for the pen. Normal: 2.2, Dabbed: 0.6
        let targetPenY = 2.2; 

        // --- ENHANCED LIGHTING for dramatic effect ---
        const ambientLight = new THREE.AmbientLight(0x2a2a3a, 1.2);
        scene.add(ambientLight);

        // Main spotlight - warm overhead light
        const spotLight = new THREE.SpotLight(0xffdec7, 3);
        spotLight.position.set(5, 12, 5);
        spotLight.angle = Math.PI / 6;
        spotLight.penumbra = 0.4;
        spotLight.decay = 1.5;
        spotLight.castShadow = true;
        spotLight.shadow.mapSize.width = 2048;
        spotLight.shadow.mapSize.height = 2048;
        scene.add(spotLight);

        // Rim light for glass highlights
        const rimLight = new THREE.PointLight(0x8899ff, 2, 18);
        rimLight.position.set(-4, 3, -4);
        scene.add(rimLight);

        // Accent light to highlight the nib
        const nibLight = new THREE.PointLight(0xffffff, 1, 8);
        nibLight.position.set(1, 4, 3);
        scene.add(nibLight);

        // Subtle fill light from below for glass transparency
        const fillLight = new THREE.PointLight(0x4466aa, 0.5, 10);
        fillLight.position.set(0, -2, 0);
        scene.add(fillLight);

        // --- MATERIALS ---
        // Enhanced glass material with better refraction
        const glassMaterial = new THREE.MeshPhysicalMaterial({
            color: 0xffffff,
            metalness: 0,
            roughness: 0.05,
            transmission: 0.98,
            thickness: 0.6,
            transparent: true,
            opacity: 0.15,
            ior: 1.5, // Glass index of refraction
            clearcoat: 1.0,
            clearcoatRoughness: 0.1,
            envMapIntensity: 1.5,
            side: THREE.DoubleSide
        });

        // Realistic ink material - dark blue-black with translucency
        const inkMaterial = new THREE.MeshPhysicalMaterial({
            color: 0x1a0f2e, // Dark blue-black
            metalness: 0,
            roughness: 0.15,
            transmission: 0.3, // Slightly translucent like real ink
            thickness: 0.8,
            transparent: true,
            opacity: 0.9,
            clearcoat: 0.5,
            clearcoatRoughness: 0.1,
            ior: 1.4 // Index of refraction similar to ink
        });

        // NIB Material - vintage brass/bronze with slight tarnish
        const nibMaterial = new THREE.MeshStandardMaterial({
            color: 0xd4af37, // Gold/brass color
            metalness: 0.95,
            roughness: 0.25,
            envMapIntensity: 1.2
        });

        const handleMaterial = new THREE.MeshStandardMaterial({
            color: 0x221f1f, roughness: 0.8
        });

        // --- GEOMETRY CONSTRUCTION ---
        const centerGroup = new THREE.Group();
        scene.add(centerGroup);

        // 1. ELEGANT GLASS INK POT with decorative details
        const potPoints = [];
        // Define a more elegant profile with decorative ridges
        potPoints.push(new THREE.Vector2(0, 0)); // Bottom center
        potPoints.push(new THREE.Vector2(1.5, 0)); // Base width (wider)
        potPoints.push(new THREE.Vector2(1.5, 0.15)); // Base edge
        potPoints.push(new THREE.Vector2(1.4, 0.2)); // Decorative ring start
        potPoints.push(new THREE.Vector2(1.45, 0.25)); // Ring
        potPoints.push(new THREE.Vector2(1.4, 0.3)); // Ring end
        potPoints.push(new THREE.Vector2(0.85, 0.65)); // Elegant curve in
        potPoints.push(new THREE.Vector2(0.7, 0.9)); // Narrow waist
        potPoints.push(new THREE.Vector2(0.65, 1.1)); // Neck start
        potPoints.push(new THREE.Vector2(0.6, 1.25)); // Slender neck
        potPoints.push(new THREE.Vector2(0.95, 1.45)); // Shoulder flare
        potPoints.push(new THREE.Vector2(1.05, 1.6)); // Wide rim outer
        // Inner wall (thickness)
        potPoints.push(new THREE.Vector2(0.9, 1.6)); // Rim inner
        potPoints.push(new THREE.Vector2(0.8, 1.45)); // Shoulder inner
        potPoints.push(new THREE.Vector2(0.45, 1.25)); // Neck inner
        potPoints.push(new THREE.Vector2(0.5, 1.1)); // Neck inner
        potPoints.push(new THREE.Vector2(0.55, 0.9)); // Waist inner
        potPoints.push(new THREE.Vector2(0.7, 0.65)); // Curve inner
        potPoints.push(new THREE.Vector2(1.25, 0.3)); // Base inner
        potPoints.push(new THREE.Vector2(1.3, 0.25)); // Ring inner
        potPoints.push(new THREE.Vector2(1.25, 0.2)); // Ring inner
        potPoints.push(new THREE.Vector2(1.3, 0.15)); // Base inner edge
        potPoints.push(new THREE.Vector2(1.3, 0.12)); // Bottom floor inner
        potPoints.push(new THREE.Vector2(0, 0.12)); // Bottom center inner

        const potGeo = new THREE.LatheGeometry(potPoints, 64);
        const pot = new THREE.Mesh(potGeo, glassMaterial);
        pot.castShadow = true;
        pot.receiveShadow = true;
        centerGroup.add(pot);

        // Add decorative glass ridges
        for (let i = 0; i < 3; i++) {
            const ridgeGeo = new THREE.TorusGeometry(0.68 + i * 0.03, 0.015, 8, 32);
            const ridge = new THREE.Mesh(ridgeGeo, glassMaterial);
            ridge.position.y = 0.95 + i * 0.1;
            ridge.rotation.x = Math.PI / 2;
            centerGroup.add(ridge);
        }

        // 2. THE INK LIQUID (Matching the new pot shape)
        const inkPoints = [];
        inkPoints.push(new THREE.Vector2(0, 0.12));
        inkPoints.push(new THREE.Vector2(1.3, 0.12));
        inkPoints.push(new THREE.Vector2(1.3, 0.15));
        inkPoints.push(new THREE.Vector2(1.25, 0.2));
        inkPoints.push(new THREE.Vector2(1.3, 0.25));
        inkPoints.push(new THREE.Vector2(1.25, 0.3));
        inkPoints.push(new THREE.Vector2(0.75, 0.7)); // Fill level
        inkPoints.push(new THREE.Vector2(0, 0.7)); // Top surface center
        const inkGeo = new THREE.LatheGeometry(inkPoints, 48);
        const ink = new THREE.Mesh(inkGeo, inkMaterial);
        ink.castShadow = true;
        centerGroup.add(ink);


        // 3. THE PEN/NIB ASSEMBLY
        const penGroup = new THREE.Group();

        // The Nib - Proper bifurcated design with split
        const nibGroup = new THREE.Group();

        // Main nib body - elegant curved shape
        const nibBodyGeo = new THREE.ConeGeometry(0.25, 1.0, 32);
        nibBodyGeo.scale(1.4, 1, 0.12); // Flatten to create classic nib shape
        const nibBody = new THREE.Mesh(nibBodyGeo, nibMaterial);
        nibBody.rotation.x = Math.PI; // Point down
        nibGroup.add(nibBody);

        // Create the split/slit down the middle using two thin boxes
        const slitGeo = new THREE.BoxGeometry(0.02, 0.85, 0.15);
        const slitMat = new THREE.MeshStandardMaterial({
            color: 0x000000,
            metalness: 0.3,
            roughness: 0.8
        });
        const slit = new THREE.Mesh(slitGeo, slitMat);
        slit.position.y = -0.05;
        nibGroup.add(slit);

        // Breather hole (circular hole near the base)
        const holeGeo = new THREE.TorusGeometry(0.08, 0.02, 16, 32);
        holeGeo.rotateX(Math.PI / 2);
        const hole = new THREE.Mesh(holeGeo, slitMat);
        hole.position.y = 0.25;
        nibGroup.add(hole);

        // Add subtle tines curvature (left and right sides)
        const tineGeo = new THREE.BoxGeometry(0.14, 0.4, 0.08);

        const leftTine = new THREE.Mesh(tineGeo, nibMaterial);
        leftTine.position.set(-0.08, -0.3, 0);
        leftTine.rotation.z = 0.05;
        nibGroup.add(leftTine);

        const rightTine = new THREE.Mesh(tineGeo, nibMaterial);
        rightTine.position.set(0.08, -0.3, 0);
        rightTine.rotation.z = -0.05;
        nibGroup.add(rightTine);

        nibGroup.position.y = 0.4;
        penGroup.add(nibGroup);

        // The Metal Ferrule holding the nib
        const ferruleGeo = new THREE.CylinderGeometry(0.22, 0.18, 0.5, 32);
        // Flatten slightly to match nib
        ferruleGeo.scale(1, 1, 0.8);
        const ferrule = new THREE.Mesh(ferruleGeo, nibMaterial);
        ferrule.position.y = 0.95;
        penGroup.add(ferrule);

        // The Handle
        const handleGeo = new THREE.CylinderGeometry(0.22, 0.15, 3.5, 32);
        const handle = new THREE.Mesh(handleGeo, handleMaterial);
        handle.position.y = 2.95;
        penGroup.add(handle);

        // Initial pen position
        penGroup.position.set(0, targetPenY, 0);
        // Slight tilt for style
        penGroup.rotation.z = -Math.PI / 12; 
        centerGroup.add(penGroup);

        // --- EVENT LISTENERS FOR INTERACTION ---
        
        function updateMouse(event) {
            // Normalize mouse coordinates to -1 to +1
            mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
            mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;
        }

        window.addEventListener('pointermove', updateMouse);
        
        window.addEventListener('pointerdown', (event) => {
            updateMouse(event);
            if (isHovering) {
                isMouseDown = true;
                targetPenY = 0.6; // Dab position
                document.body.style.cursor = 'grabbing';
            }
        });

        window.addEventListener('pointerup', () => {
            isMouseDown = false;
            targetPenY = 2.2; // Reset to hover position
            document.body.style.cursor = isHovering ? 'grab' : 'default';
        });


        // --- ANIMATION LOOP ---
        const clock = new THREE.Clock();

        function animate() {
            requestAnimationFrame(animate);
            const elapsedTime = clock.getElapsedTime();

            // 1. Raycasting for Hover Detection
            raycaster.setFromCamera(mouse, camera);
            // Check intersection with the main group
            const intersects = raycaster.intersectObject(centerGroup, true);
            
            if (intersects.length > 0) {
                isHovering = true;
                if (!isMouseDown) document.body.style.cursor = 'grab';
            } else {
                isHovering = false;
                if (!isMouseDown) document.body.style.cursor = 'default';
            }

            // 2. Rotation Logic
            // Only rotate if NOT hovering and NOT holding down click
            if (!isHovering && !isMouseDown) {
                centerGroup.rotation.y += 0.004;
                // Add a slight gentle bob when floating freely
                 penGroup.position.y = targetPenY + Math.sin(elapsedTime * 1.5) * 0.05;
            }

            // 3. Dabbing Logic (Smooth transition)
            // Smoothly lerp current position towards target position
            penGroup.position.y = THREE.MathUtils.lerp(penGroup.position.y, targetPenY, 0.1);
            
            renderer.render(scene, camera);
        }

        animate();

        // --- RESIZE HANDLER ---
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

    </script>
</body>
</html>
